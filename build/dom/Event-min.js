APE.namespace("APE.dom");(function(){var A="addEventListener" in this,G=A?"target":"srcElement";APE.mixin(APE.dom.Event={},{eventTarget:G,getTarget:E,addCallback:F,removeCallback:H,preventDefault:C,stopPropagation:B});function B(J){J=J||window.event;var I;if(typeof J.stopPropagation=="function"){I=function(K){K.stopPropagation()}}else{if("cancelBubble" in J){I=function(K){K=K||window.event;K.cancelBubble=true}}}(APE.dom.Event.stopPropagation=I)(J)}function E(I){return(I||event)[G]}function D(J,I){return A?I:function(K){I.call(J,K)}}function F(L,K,I){if(A){L.addEventListener(K,I,false)}else{var J=D(L,I);L.attachEvent("on"+K,J)}return J||I}function H(K,J,I){if(A){K.removeEventListener(J,I,false)}else{K.detachEvent("on"+J,I)}return I}function C(I){I=I||event;if(typeof I.preventDefault=="function"){I.preventDefault()}else{if("returnValue" in I){I.returnValue=false}}}})();