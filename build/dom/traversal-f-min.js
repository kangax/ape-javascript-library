APE.namespace("APE.dom");(function(){var D=document.documentElement,F="nodeType",E="tagName",H="parentNode",B="compareDocumentPosition",I=/^H/.test(D[E])?"toUpperCase":"toLowerCase",K=/^[A-Z]/;APE.mixin(APE.dom,{contains:M(),findAncestorWithAttribute:A,findAncestorWithTagName:N,findNextSiblingElement:C,findPreviousSiblingElement:G,getChildElements:J,isTagName:L});function M(){if(B in D){return function(P,O){return(P[B](O)&16)!==0}}else{if("contains" in D){return function(P,O){return P!==O&&P.contains(O)}}}return function(P,O){if(P===O){return false}while(P!=O&&(O=O[H])!==null){}return P===O}}function A(Q,T,R){for(var S,P=Q[H];P!==null;){S=P.attributes;if(!S){return null}var O=S[T];if(O&&O.specified){if(O.value===R||(R===undefined)){return P}}P=P[H]}return null}function N(Q,O){O=O[I]();for(var P=Q[H];P!==null;){if(P[E]===O){return P}P=P[H]}return null}function C(P){for(var O=P.nextSibling;O!==null;O=O.nextSibling){if(O[F]===1){return O}}return null}function G(O){for(var P=O.previousSibling;P!==null;P=P.previousSibling){if(P[F]===1){return P}}return null}function J(S){var R=0,Q=[],P,O,U=S.children||S.childNodes,T;for(P=U.length;R<P;R++){T=U[R];if(T[F]!==1){continue}Q[Q.length]=T}return Q}function L(P,O){return P.tagName==O[I]()}})();