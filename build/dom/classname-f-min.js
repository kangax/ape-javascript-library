APE.namespace("APE.dom");(function(){APE.mixin(APE.dom,{hasToken:F,removeClass:K,addClass:G,hasClass:E,getElementsByClassName:L,findAncestorWithClass:I});var H="className";function F(N,M){return B(M,"").test(N)}function K(N,M){var O=N[H];if(!O){return}if(O===M){N[H]="";return}N[H]=C(O.replace(B(M,"g")," "))}function G(N,M){if(!N[H]){N[H]=M}if(!B(M).test(N[H])){N[H]+=" "+M}}function E(N,M){if(!N[H]){return false}return F(N[H],M)}var A={};function B(N,M){var O=N+"$"+M;return(A[O]||(A[O]=RegExp("(?:^|\\s)"+N+"(?:$|\\s)",M)))}function L(N,O,U){if(!U){return[]}O=O||"*";if(N.getElementsByClassName&&(O==="*")){return N.getElementsByClassName(U)}var P=B(U,""),R=N.getElementsByTagName(O),S=R.length,M=0,Q,T=Array(S);for(Q=0;Q<S;Q++){if(P.test(R[Q][H])){T[M++]=R[Q]}}T.length=M;return T}function I(P,M,N){if(P==null||P===N){return null}var Q=B(M,""),O;for(O=P.parentNode;O!=N;){if(Q.test(O[H])){return O}O=O.parentNode}return null}var D=/^\s+|\s+$/g,J=/\s\s+/g;function C(M){return M.replace(D,"").replace(J," ")}})();